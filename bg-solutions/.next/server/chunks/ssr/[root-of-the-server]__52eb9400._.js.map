{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/bg-solutions/utils/supabaseClient.ts"],"sourcesContent":["// utils/supabaseClient.ts\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = 'https://cyhfugcwkgzcceadtzfw.supabase.co'; // coloque a sua url\r\nconst supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN5aGZ1Z2N3a2d6Y2NlYWR0emZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzNDcyNzIsImV4cCI6MjA2MzkyMzI3Mn0.nxtN0yKyarDzGD991tcGC3DQnVt2GFxeLCzAPmJyYn8'; // coloque sua anon key\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;AAC1B;;AAEA,MAAM,cAAc,4CAA4C,oBAAoB;AACpF,MAAM,kBAAkB,oNAAoN,uBAAuB;AAE5P,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa","debugId":null}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gabri/bg-solutions/app/pages/login/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { supabase } from '@/utils/supabaseClient';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function Login() {\r\n  const [email, setEmail] = useState('');\r\n  const [senha, setSenha] = useState('');\r\n  const [erro, setErro] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [showSenha, setShowSenha] = useState(false);\r\n  const router = useRouter();\r\n\r\n  // Mapeia mensagens de erro do Supabase para português\r\n  function getErrorMessage(error: any) {\r\n    if (!error) return '';\r\n    const msg = error.message?.toLowerCase() || '';\r\n    if (msg.includes('email not confirmed')) return 'Seu e-mail ainda não foi confirmado! Verifique sua caixa de entrada.';\r\n    if (msg.includes('invalid login')) return 'E-mail ou senha inválidos!';\r\n    if (msg.includes('user not found')) return 'Usuário não encontrado!';\r\n    if (msg.includes('network error')) return 'Erro de conexão. Tente novamente.';\r\n    return error.message || 'Erro ao tentar fazer login. Tente novamente.';\r\n  }\r\n\r\n  async function handleLogin(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setErro('');\r\n    setLoading(true);\r\n\r\n    // Validação rápida\r\n    if (!email || !senha) {\r\n      setErro('Preencha todos os campos.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Login Supabase Auth\r\n    const { data, error } = await supabase.auth.signInWithPassword({\r\n      email,\r\n      password: senha\r\n    });\r\n\r\n    if (error || !data.user) {\r\n      setErro(getErrorMessage(error));\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Confere pagamento confirmado\r\n    const { data: userData, error: userError } = await supabase\r\n      .from('usuarios')\r\n      .select('pagamento_confirmado')\r\n      .eq('id', data.user.id)\r\n      .single();\r\n\r\n    if (userError) {\r\n      setErro('Erro ao verificar status do pagamento.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    if (!userData?.pagamento_confirmado) {\r\n      setErro('Seu pagamento ainda não foi confirmado. Complete o pagamento para acessar o painel.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    router.push('/pages/painel');\r\n  }\r\n\r\n  // Suporte a tecla Enter\r\n  function handleKeyDown(e: React.KeyboardEvent) {\r\n    if (e.key === 'Enter') handleLogin(e as any);\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gradient-to-br from-blue-700 to-blue-400 items-center justify-center animate-fadein\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl p-10 w-full max-w-md flex flex-col items-center relative\">\r\n        <img src=\"/logo-bgsolutions.png\" alt=\"BG Solutions\" className=\"mb-4 w-20 h-20 rounded-full shadow-lg border-2 border-blue-100\" />\r\n        <h2 className=\"text-2xl font-bold text-blue-700 mb-1 tracking-tight\">Área do Cliente</h2>\r\n        <p className=\"text-gray-600 mb-8 text-center\">Acesse seu painel exclusivo de automação WhatsApp</p>\r\n        <form className=\"w-full flex flex-col gap-4\" onSubmit={handleLogin} autoComplete=\"on\">\r\n          <div>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Seu e-mail\"\r\n              className=\"border w-full p-3 rounded-lg focus:outline-none focus:border-blue-700 transition shadow-sm\"\r\n              value={email}\r\n              onChange={e => setEmail(e.target.value)}\r\n              autoFocus\r\n              required\r\n              autoComplete=\"username\"\r\n              onKeyDown={handleKeyDown}\r\n            />\r\n          </div>\r\n          <div className=\"relative\">\r\n            <input\r\n              type={showSenha ? \"text\" : \"password\"}\r\n              placeholder=\"Sua senha\"\r\n              className=\"border w-full p-3 rounded-lg focus:outline-none focus:border-blue-700 transition shadow-sm pr-12\"\r\n              value={senha}\r\n              onChange={e => setSenha(e.target.value)}\r\n              required\r\n              autoComplete=\"current-password\"\r\n              onKeyDown={handleKeyDown}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              aria-label={showSenha ? \"Ocultar senha\" : \"Mostrar senha\"}\r\n              className=\"absolute right-4 top-3 text-gray-400 hover:text-blue-700\"\r\n              tabIndex={-1}\r\n              onClick={() => setShowSenha(s => !s)}\r\n            >\r\n              {showSenha ? (\r\n                <svg width={22} height={22} fill=\"none\" viewBox=\"0 0 24 24\"><path d=\"M1 12S5 5 12 5s11 7 11 7-4 7-11 7S1 12 1 12z\" stroke=\"currentColor\" strokeWidth=\"2\"/><circle cx=\"12\" cy=\"12\" r=\"3\" stroke=\"currentColor\" strokeWidth=\"2\"/></svg>\r\n              ) : (\r\n                <svg width={22} height={22} fill=\"none\" viewBox=\"0 0 24 24\"><path d=\"M1 1l22 22M17.94 17.94C16.09 19.27 14.12 20 12 20c-7 0-11-8-11-8a21.74 21.74 0 0 1 5.18-6.37M8.46 8.46A3 3 0 0 0 12 15a3 3 0 0 0 3-3\" stroke=\"currentColor\" strokeWidth=\"2\"/><path d=\"M12 5c2.11 0 4.08.73 5.93 2.07A21.72 21.72 0 0 1 23 12a21.82 21.82 0 0 1-3.07 4.93\" stroke=\"currentColor\" strokeWidth=\"2\"/></svg>\r\n              )}\r\n            </button>\r\n          </div>\r\n          {erro && (\r\n            <div className=\"text-red-600 text-sm py-2 bg-red-50 rounded border border-red-200 text-center animate-shake\">\r\n              {erro}\r\n            </div>\r\n          )}\r\n          <button\r\n            type=\"submit\"\r\n            className={`bg-blue-700 text-white font-bold py-3 rounded-lg mt-2 hover:bg-blue-800 transition flex items-center justify-center gap-2 ${loading ? 'opacity-70 cursor-not-allowed' : ''}`}\r\n            disabled={loading}\r\n          >\r\n            {loading && (\r\n              <svg className=\"animate-spin h-5 w-5 text-white\" viewBox=\"0 0 24 24\">\r\n                <circle className=\"opacity-20\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"white\" strokeWidth=\"4\" fill=\"none\"/>\r\n                <path className=\"opacity-70\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v4l3-3-3-3v4A8 8 0 104 12z\"/>\r\n              </svg>\r\n            )}\r\n            {loading ? 'Entrando...' : 'Entrar'}\r\n          </button>\r\n        </form>\r\n        <a href=\"/\" className=\"text-blue-500 mt-6 hover:underline text-sm\">Voltar para o site</a>\r\n        <span className=\"mt-4 text-gray-400 text-xs text-center\">© 2025 BG Solutions</span>\r\n      </div>\r\n      <style jsx global>{`\r\n        @keyframes fadein { from { opacity: 0; } to { opacity: 1; } }\r\n        .animate-fadein { animation: fadein 0.7s; }\r\n        @keyframes shake {\r\n          0% { transform: translateX(0); }\r\n          20% { transform: translateX(-6px); }\r\n          40% { transform: translateX(6px); }\r\n          60% { transform: translateX(-6px); }\r\n          80% { transform: translateX(6px); }\r\n          100% { transform: translateX(0); }\r\n        }\r\n        .animate-shake { animation: shake 0.35s; }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}